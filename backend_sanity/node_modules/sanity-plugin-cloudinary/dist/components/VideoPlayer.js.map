{"version":3,"sources":["../../src/components/VideoPlayer.tsx"],"names":["VideoPlayer","React","Component","componentDidMount","src","props","player","videoNode","sources","controls","componentWillUnmount","dispose","render","kind","className","diff","style","position","event","stopPropagation","node"],"mappings":";;;;;;;AAAA;;AACA;;;;;;AASe,MAAMA,WAAN,SAA0BC,eAAMC,SAAhC,CAGb;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAIAC,EAAAA,iBAAiB,GAAG;AAAA,QACVC,GADU,GACF,KAAKC,KADH,CACVD,GADU;AAElB,SAAKE,MAAL,GAAc,oBAAQ,KAAKC,SAAb,EAAwB;AACpCC,MAAAA,OAAO,EAAE,CAAC;AAAEJ,QAAAA;AAAF,OAAD,CAD2B;AAEpCK,MAAAA,QAAQ,EAAE;AAF0B,KAAxB,CAAd;AAID;;AAEDC,EAAAA,oBAAoB,GAAG;AACrB,QAAI,KAAKJ,MAAT,EAAiB;AACf,WAAKA,MAAL,CAAYK,OAAZ;AACD;AACF;;AAEDC,EAAAA,MAAM,GAAG;AAAA,QACCC,IADD,GACU,KAAKR,KADf,CACCQ,IADD;AAEP,QAAMC,SAAqC,GAAG;AAC5CR,MAAAA,MAAM,EAAE,yCADoC;AAE5CS,MAAAA,IAAI,EAAE;AAFsC,KAA9C;AAKA,QAAMC,KAAoB,GAAG;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAA7B;AAEA,wBACE,uDACE;AACE,MAAA,IAAI,EAAC,2CADP;AAEE,MAAA,GAAG,EAAC;AAFN,MADF,eAKE;AAAK;AAAL,oBACE;AACE,MAAA,OAAO,EAAEC,KAAK,IAAIA,KAAK,CAACC,eAAN,EADpB;AAEE,MAAA,KAAK,EAAEN,IAAI,KAAK,MAAT,GAAkBG,KAAlB,GAA0B,EAFnC;AAGE,MAAA,SAAS,EAAEF,SAAS,CAACD,IAAD,CAHtB;AAIE,MAAA,GAAG,EAAEO,IAAI,IAAI;AACX,YAAIA,IAAJ,EAAU;AACR,eAAKb,SAAL,GAAiBa,IAAjB;AACD;AACF;AARH,MADF,CALF,CADF;AAoBD;;AA/CD","sourcesContent":["import React, { CSSProperties } from 'react';\nimport videojs, { VideoJsPlayer } from 'video.js';\n\ntype PlayerKind = 'player' | 'diff';\n\nexport type VideoPlayerProps = {\n  src: string;\n  kind: PlayerKind;\n};\n\nexport default class VideoPlayer extends React.Component<\n  VideoPlayerProps,\n  any\n> {\n  videoNode?: HTMLVideoElement;\n  player?: VideoJsPlayer;\n\n  componentDidMount() {\n    const { src } = this.props;\n    this.player = videojs(this.videoNode, {\n      sources: [{ src }],\n      controls: true,\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.player) {\n      this.player.dispose();\n    }\n  }\n\n  render() {\n    const { kind } = this.props;\n    const className: Record<PlayerKind, string> = {\n      player: 'video-js vjs-16-9 vjs-big-play-centered',\n      diff: 'video-js vjs-layout-tiny vjs-fluid',\n    };\n\n    const style: CSSProperties = { position: 'relative' };\n\n    return (\n      <div>\n        <link\n          href=\"https://vjs.zencdn.net/7.8.4/video-js.css\"\n          rel=\"stylesheet\"\n        />\n        <div data-vjs-player>\n          <video\n            onClick={event => event.stopPropagation()}\n            style={kind === 'diff' ? style : {}}\n            className={className[kind]}\n            ref={node => {\n              if (node) {\n                this.videoNode = node;\n              }\n            }}\n          ></video>\n        </div>\n      </div>\n    );\n  }\n}\n"],"file":"VideoPlayer.js"}